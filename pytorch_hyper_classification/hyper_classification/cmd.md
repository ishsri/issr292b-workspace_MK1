- module load Anaconda3
- conda activate /beegfs/.global1/ws/s7740678-dev/pytorch_venv/
- cd /home/s7740678/p_ai4hematology/code/s7740678/mds_diagnosis/libs/bms_ml_tools/bms_ml_tools/pytorch_pipeline/libs/hyper_classification/hyper_classification/

## MDS vs aml

PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_val.csv --name mds_vs_aml_internal --experiment-name mds_vs_aml_internal --input-size 1920 2560 --model squeezenet1_1 -b 1 --lr 0.00012133204756871357 --momentum 0.758105680767786 --wd 0.0003 --lr-step-size 20 --lr-gamma 0.040760694836639105 --class-names aml mds --balance-samples --epochs 20 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/aml_vs_mds/ --no-log-roc
 
PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_val_external.csv --name mds_vs_aml_external --experiment-name mds_vs_aml_external --input-size 1920 2560 --model squeezenet1_1 -b 1 --lr 0.00012133204756871357 --momentum 0.758105680767786 --wd 0.0003 --lr-step-size 20 --lr-gamma 0.040760694836639105 --class-names aml mds --balance-samples --epochs 7 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/aml_vs_mds/ --no-log-roc

PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_val_roi.csv --name mds_vs_aml_val_roi --experiment-name mds_vs_aml_val_roi --input-size 1920 2560 --model squeezenet1_1 -b 1 --lr 0.00012133204756871357 --momentum 0.758105680767786 --wd 0.0003 --lr-step-size 20 --lr-gamma 0.040760694836639105 --class-names aml mds --balance-samples --epochs 20 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/aml_vs_mds/ --no-log-roc


## MDS vs healthy

PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_val.csv --name mds_vs_healthy_internal --experiment-name mds_vs_healthy_internal --input-size 1920 2560 --model resnext50_32x4d -b 1 --lr 0.01069407049679017 --momentum 0.08033228875915567 --wd 0.0005 --lr-step-size 11 --lr-gamma 0.054970805237739256 --class-names mds healthy --balance-samples --epochs 20 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/mds_vs_healthy/ --no-log-roc

PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_val_external.csv --name mds_vs_healthy_external --experiment-name mds_vs_healthy_external --input-size 1920 2560 --model resnext50_32x4d -b 1 --lr 0.01069407049679017 --momentum 0.08033228875915567 --wd 0.0005 --lr-step-size 11 --lr-gamma 0.054970805237739256 --class-names mds healthy --balance-samples --epochs 15 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/mds_vs_healthy/ --no-log-roc

PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_val_roi.csv --name mds_vs_healthy_val_roi --experiment-name mds_vs_healthy_val_roi --input-size 1920 2560 --model resnext50_32x4d -b 1 --lr 0.01069407049679017 --momentum 0.08033228875915567 --wd 0.0005 --lr-step-size 11 --lr-gamma 0.054970805237739256 --class-names mds healthy --balance-samples --epochs 20 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/mds_vs_healthy/ --no-log-roc

### ROC
PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_healthy_val_only_external.csv --name mds_vs_healthy_external --experiment-name mds_vs_healthy_external --input-size 1920 2560 --model resnext50_32x4d -b 1 --lr 0.01069407049679017 --momentum 0.08033228875915567 --wd 0.0005 --lr-step-size 11 --lr-gamma 0.054970805237739256 --class-names mds healthy --balance-samples --epochs 10 --start-epoch 10 -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/mds_vs_healthy/ --resume /beegfs/.global1/ws/s7740678-dev/results/models/mds_vs_healthy/model_mds_vs_healthy_external_3183069950740123281_best_epoch010.pth --test-only




PYTHONHASHSEED=0 TORCH_HOME=/beegfs/.global1/ws/s7740678-dev/.torch python train.py --data-paths /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_train.csv /beegfs/.global1/ws/s7740678-dev/raw/ai4hematology_data/mds/ai4hematology_data/mds_csv/mds_aml_val_only_external.csv --name mds_vs_aml_external --experiment-name mds_vs_aml_external --input-size 1920 2560 --model squeezenet1_1 -b 1 --lr 0.00012133204756871357 --momentum 0.758105680767786 --wd 0.0003 --lr-step-size 20 --lr-gamma 0.040760694836639105 --class-names aml mds --balance-samples --epochs 7 --start-epoch 7  -j 4 --output-dir /beegfs/.global1/ws/s7740678-dev/results/models/aml_vs_mds/ --resume /beegfs/.global1/ws/s7740678-dev/results/models/aml_vs_mds/model_mds_vs_aml_external_3777496511551080558.pth --test-only